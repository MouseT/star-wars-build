(function(e){function t(t){for(var n,i,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"21bb":function(e,t,a){"use strict";var n=a("2dad"),o=a.n(n);o.a},2438:function(e,t,a){},"2c35":function(e,t,a){"use strict";var n=a("60cb"),o=a.n(n);o.a},"2dad":function(e,t,a){},"35d7":function(e,t,a){"use strict";var n=a("2438"),o=a.n(n);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Home")],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"home__content",class:{blurred:e.isBlurred}},[a("HomeHeader"),a("HomeList",{on:{activateModal:e.activateModal}}),a("HomeFooter")],1),a("HomeModal",{attrs:{isModalClicked:e.isModalClicked,dataFromItem:e.dataFromItem,loadingModal:e.loadingModal},on:{hideModal:function(t){return e.hideModal()}}})],1)},r=[],l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("div",{staticClass:"header__bg"},[a("div",{staticClass:"header__content"},[a("div",{staticClass:"header__img-1"}),a("div",{staticClass:"header__text"},[e._v(" Character Encyclopedia ")]),a("div",{staticClass:"header__img-2"})])])])}],d={name:"HomeHeader"},u=d,p=(a("9742"),a("2877")),m=Object(p["a"])(u,l,c,!1,null,"461c2638",null),f=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("div",{staticClass:"list",class:{blockScroll:!e.canScroll}},[e.loading?a("AppLoader",{attrs:{loaded:e.loaded}}):a("div",{staticClass:"list__wrapper"},[a("div",{staticClass:"container"},[a("div",{staticClass:"list__search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.request,expression:"request"}],staticClass:"list__input",attrs:{type:"text",placeholder:"Search by name"},domProps:{value:e.request},on:{input:[function(t){t.target.composing||(e.request=t.target.value)},function(t){return e.fetchSearch()}],keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchSearchInstant()}}}),a("svg",{staticClass:"list__icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M16.6667 14.6667H15.6133L15.24 14.3067C16.5467 12.7867 17.3333 10.8133 17.3333 8.66667C17.3333 3.88 13.4533 0 8.66667 0C3.88 0 0 3.88 0 8.66667C0 13.4533 3.88 17.3333 8.66667 17.3333C10.8133 17.3333 12.7867 16.5467 14.3067 15.24L14.6667 15.6133V16.6667L21.3333 23.32L23.32 21.3333L16.6667 14.6667ZM8.66667 14.6667C5.34667 14.6667 2.66667 11.9867 2.66667 8.66667C2.66667 5.34667 5.34667 2.66667 8.66667 2.66667C11.9867 2.66667 14.6667 5.34667 14.6667 8.66667C14.6667 11.9867 11.9867 14.6667 8.66667 14.6667Z",fill:"#808080"}})])]),a("div",{staticClass:"list__content"},e._l(e.peopleData,(function(t,n){return a("HomeListItem",{key:n,attrs:{avatar:t.name.charAt(0),name:t.name,species:e.species[n]},on:{activateModal:function(a){return e.activateModal(t)}}})})),1),e.canFetchPeople?a("infinite-loading",{on:{infinite:function(t){return e.fetchMorePeople()}}}):e._e()],1)])],1)])},_=[],v=(a("99af"),a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item",on:{click:function(t){return e.activateModal()}}},[a("div",{staticClass:"item__content"},[a("div",{staticClass:"item__avatar",style:{backgroundColor:e.randomColor}},[e._v(" "+e._s(e.avatar)+" ")]),a("div",{staticClass:"item__name"},[e._v(e._s(e.name))]),a("div",{staticClass:"item__species"},[e._v(e._s(e.species))])])])}),g=[],C=(a("d3b7"),a("25f0"),{name:"HomeListItem",data:function(){return{}},props:{avatar:{type:String},name:{type:String},species:{type:String}},computed:{randomColor:function(){return"#"+(16777215*Math.random()<<0).toString(16)}},methods:{activateModal:function(){var e=this.randomColor;this.$store.commit("setColor",e),this.$emit("activateModal",e)}}}),b=C,y=(a("35d7"),Object(p["a"])(b,v,g,!1,null,"7ac9dbe2",null)),w=y.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loader",class:{loaded:e.loaded}},[e._m(0)])},P=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loader__wrapper"},[a("div",{staticClass:"loader__img"}),a("div",{staticClass:"loader__lights"},[a("div",{staticClass:"loader__light loader__first-light"}),a("div",{staticClass:"loader__light loader__second-light"}),a("div",{staticClass:"loader__light loader__third-light"})])])}],S={name:"AppLoader",props:{loaded:{type:Boolean}}},F=S,x=(a("2c35"),Object(p["a"])(F,M,P,!1,null,"e5a95ad8",null)),$=x.exports,k=a("e166"),H=a.n(k),I=a("2ef0"),O=a.n(I),E={name:"HomeList",data:function(){return{peopleData:[],speciesData:[],species:[],pagePeople:1,canFetchPeople:!0,loading:!0,isModalClicked:!1,isBlurred:!1,loaded:!1,canScroll:!1,scrolling:!0,afterSearch:!1,request:""}},methods:{getPeople:function(){var e=this.$store.getters.getPeople.results;return this.peopleData=this.peopleData.concat(e)},fetchSearch:O.a.debounce((function(){var e=this;this.pagePeople=1,this.loading=!0,this.loaded=!1,this.peopleData=[],this.species=[];var t="https://swapi.dev/api/people/?search=".concat(this.request,"&page=1");this.$store.dispatch("fetchPeople",t),setTimeout((function(){e.getPeople(),e.afterSearch=!0,e.loading=!1,e.setSpecies(e.pagePeople)}),2e3)}),2e3),fetchSearchInstant:O.a.debounce((function(){this.pagePeople=1,this.loading=!0,this.loaded=!1,this.peopleData=[],this.species=[];var e="https://swapi.dev/api/people/?search=".concat(this.request,"&page=1");this.$store.dispatch("fetchPeople",e),this.getPeople(),this.afterSearch=!0,this.loading=!1,this.setSpecies(this.pagePeople)}),50),updatePeople:function(e){var t=this;setTimeout((function(){t.$store.dispatch("fetchPeople",e),setTimeout((function(){t.getPeople(),t.setSpecies(t.pagePeople),t.canFetchPeople=!0}),500)}),500)},fetchMorePeople:function(){var e=this.$store.getters.getPeople.next;this.pagePeople++,this.canFetchPeople&&e&&(this.canFetchPeople=!1,!0===this.afterSearch?this.updatePeople(e):(this.updatePeople(e),this.setSpecies(this.pagePeople)))},setSpecies:function(e){for(var t=10*e-10,a=t;a<10*e;a++){if(!this.peopleData[a])break;if(0===this.peopleData[a].species.length)this.species.push("Human");else for(var n=0;n<this.speciesData.length;n++)this.speciesData[n].url===this.peopleData[a].species[0]&&this.species.push(this.speciesData[n].name)}},activateModal:function(e){this.$emit("activateModal",e)}},components:{AppLoader:$,HomeListItem:w,InfiniteLoading:H.a},mounted:function(){var e=this,t="https://swapi.dev/api/people/?page=".concat(this.pagePeople);this.$store.dispatch("fetchPeople",t),this.$store.dispatch("fetchAllSpecies"),setTimeout((function(){e.loaded=!0,e.canScroll=!0,setTimeout((function(){e.getPeople(),e.speciesData=e.$store.getters.getSpecies,e.setSpecies(e.pagePeople),e.loading=!1}),500)}),500)}},L=E,j=(a("dffe"),Object(p["a"])(L,h,_,!1,null,"bea1217c",null)),D=j.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"footer__text"},[e._v(" STAR WARS CHARACTER Encyclopedia, "+e._s(e.currentYear)+" ")])])},A=[],T={name:"HomeFooter",computed:{currentYear:function(){return(new Date).getFullYear()}}},R=T,q=(a("6924"),Object(p["a"])(R,B,A,!1,null,"0ae280e9",null)),Y=q.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal__main"},[a("div",{staticClass:"modal__wrapper"}),e.loadingModal?a("HomeModalLoader",{class:{displayModal:e.isModalClicked}}):a("div",{staticClass:"modal",class:{displayModal:e.isModalClicked}},[a("div",{staticClass:"modal__content"},[a("div",{staticClass:"modal__name"},[a("div",{staticClass:"modal__name-avatar",style:{backgroundColor:e.getColor}},[e._v(" "+e._s(e.getName.charAt(0))+" ")]),a("div",{staticClass:"modal__name-text"},[e._v(" "+e._s(e.getName)+" ")])]),a("div",{staticClass:"modal__info"},[a("table",[a("tr",{staticClass:"modal__info-row"},[e._m(0),a("td",[a("span",{staticClass:"modal__info-description"},[a("span",[e._v(e._s(e.getBirthYear))])])])]),a("tr",{staticClass:"modal__info-row"},[e._m(1),a("td",[a("span",{staticClass:"modal__info-description"},[a("span",[e._v(e._s(e.getSpecies?e.getSpecies:"Human"))])])])]),a("tr",{staticClass:"modal__info-row"},[e._m(2),a("td",[a("span",{staticClass:"modal__info-description"},[a("span",[e._v(e._s(e.getGender))])])])])]),a("table",[a("tr",{staticClass:"modal__info-row"},[e._m(3),a("td",[a("span",{staticClass:"modal__info-description"},[a("span",[e._v(e._s(e.getHomeWorld))])])])]),a("tr",{staticClass:"modal__info-row"},[e._m(4),a("td",{staticClass:"modal__info-films-cell"},[a("span",{staticClass:"modal__info-description"},[a("span",e._l(e.getFilms,(function(t){return a("h5",{key:t.title,staticClass:"modal__info-film"},[e._v(" "+e._s(t.title)+" ")])})),0)])])])])])]),a("span",{on:{click:function(t){return e.hideModal()}}},[a("svg",{staticClass:"modal__close-btn",attrs:{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M1 13L13 1M13 13L1 1",stroke:"white","stroke-width":"2","stroke-linecap":"round"}})])])])],1)},G=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("span",{staticClass:"modal__info-byear modal__info-item"},[e._v(" Birth year ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("span",{staticClass:"modal__info-species modal__info-item"},[e._v(" Species ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("span",{staticClass:"modal__info-gender modal__info-item"},[e._v(" Gender ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("span",{staticClass:"modal__info-homeworld modal__info-item"},[e._v(" Homeworld ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",{staticClass:"modal__info-films-cell"},[a("span",{staticClass:"modal__info-films modal__info-item"},[e._v(" Films ")])])}],W=(a("a4d3"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),J=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal__loader"},[a("div",{staticClass:"modal__loader-wrapper"},[a("div",{staticClass:"modal__loader-img"}),a("div",{staticClass:"modal__loader-lights"},[a("div",{staticClass:"modal__loader-light modal__loader-first-light"}),a("div",{staticClass:"modal__loader-light modal__loader-second-light"}),a("div",{staticClass:"modal__loader-light modal__loader-third-light"})])])])}],Z={name:"HomeModalLoader",props:{loadingModal:{type:Boolean}}},V=Z,z=(a("b5ff"),Object(p["a"])(V,W,J,!1,null,null,null)),K=z.exports,Q={name:"HomeModal",components:{HomeModalLoader:K},data:function(){return{dataFromItemLocal:{title:"name",birth_year:"birth_year",species:"species",gender:"gender",homeworld:"homeworld",films:"films"}}},props:{isModalClicked:{type:Boolean},dataFromItem:{type:Array},loadingModal:{type:Boolean}},computed:{getName:function(){var e=this.dataFromItem[this.dataFromItem.length-1];return e?e.name:"name"},getBirthYear:function(){var e=this.dataFromItem[this.dataFromItem.length-1];return e?e.birth_year:"birth_year"},getSpecies:function(){var e=this.dataFromItem[this.dataFromItem.length-2];return e?e.data.name:"species"},getGender:function(){var e=this.dataFromItem[this.dataFromItem.length-1];return e?e.gender:"gender"},getHomeWorld:function(){var e=this.dataFromItem[this.dataFromItem.length-3];return e?e.data.name:e},getFilms:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var o,s=this.dataFromItem[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var i=o.value;i.data&&e.push(i.data)}}catch(r){a=!0,n=r}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e},getColor:function(){var e=this.$store.getters.getColor;return e||"#FFFFFF"}},methods:{hideModal:function(){this.$emit("hideModal")}}},U=Q,X=(a("eb4b"),Object(p["a"])(U,N,G,!1,null,null,null)),ee=X.exports,te={name:"Home",components:{HomeFooter:Y,HomeList:D,HomeHeader:f,HomeModal:ee},data:function(){return{isBlurred:!1,isModalClicked:!1,dataFromItem:[],loadingModal:!0}},methods:{activateModal:function(e){var t=this;this.isModalClicked=!0,this.isBlurred=!0,this.$store.dispatch("fetchDataModal",{species:e.species,homeworld:e.homeworld,films:e.films});var a=document.getElementById("body");a.classList.add("no-scroll"),setTimeout((function(){t.dataFromItem=t.$store.getters.getDataModal,t.dataFromItem.push(e),setTimeout((function(){t.loadingModal=!1}),1e3)}),1e3)},hideModal:function(){this.isModalClicked=!1,this.isBlurred=!1,this.loadingModal=!0;var e=document.getElementById("body");e.classList.remove("no-scroll")}}},ae=te,ne=(a("21bb"),Object(p["a"])(ae,i,r,!1,null,null,null)),oe=ne.exports,se={components:{Home:oe}},ie=se,re=(a("5c0b"),Object(p["a"])(ie,o,s,!1,null,null,null)),le=re.exports,ce=a("8c4f");n["a"].use(ce["a"]);var de=[{path:"/",name:"Home",component:oe}],ue=new ce["a"]({mode:"history",base:"",routes:de}),pe=ue,me=(a("96cf"),a("1da1")),fe=a("2f62"),he=a("bc3a"),_e=a.n(he);n["a"].use(fe["a"]);var ve=new fe["a"].Store({state:{people:{},species:[],dataModal:{},color:""},getters:{getPeople:function(e){return e.people},getSpecies:function(e){return e.species},getDataModal:function(e){return e.dataModal},getColor:function(e){return e.color}},mutations:{setPeople:function(e,t){return e.people=Object.assign(t)},setSpecies:function(e,t){return e.species=t},setDataModal:function(e,t){return e.dataModal=t},setColor:function(e,t){return e.color=t}},actions:{fetchPeople:function(e,t){var a=e.commit;return Object(me["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e.a.get(t).then((function(e){a("setPeople",e.data)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},fetchAllSpecies:function(e){var t=e.commit;return Object(me["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_e()("https://swapi.dev/api/species/").then((function(e){return e.data.count})).then((function(e){for(var t=Math.ceil((e-1)/10),a=[],n=1;n<=t;n++)a.push(_e()("https://swapi.dev/api/species?page=".concat(n)));return Promise.all(a)})).then((function(e){var a=[],n=!0,o=!1,s=void 0;try{for(var i,r=e[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var l=i.value;a=a.concat(l.data.results)}}catch(c){o=!0,s=c}finally{try{n||null==r.return||r.return()}finally{if(o)throw s}}return t("setSpecies",a),a})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},fetchDataModal:function(e,t){var a=e.commit;return Object(me["a"])(regeneratorRuntime.mark((function e(){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=[],o=[],n=n.concat(t.films),n.push(t.homeworld),n.push(t.species),s=0;s<n.length;s++)o.push(_e.a.get(n[s]));return e.abrupt("return",Promise.all(o).then((function(e){var t=[],n=!0,o=!1,s=void 0;try{for(var i,r=e[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var l=i.value;t=t.concat(l)}}catch(c){o=!0,s=c}finally{try{n||null==r.return||r.return()}finally{if(o)throw s}}return a("setDataModal",t),t})).catch((function(e){return e})));case 7:case"end":return e.stop()}}),e)})))()}},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:pe,store:ve,render:function(e){return e(le)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),o=a.n(n);o.a},"60cb":function(e,t,a){},"66e7":function(e,t,a){},6924:function(e,t,a){"use strict";var n=a("66e7"),o=a.n(n);o.a},"69a2":function(e,t,a){},8240:function(e,t,a){},9742:function(e,t,a){"use strict";var n=a("dc84"),o=a.n(n);o.a},"9c0c":function(e,t,a){},add0:function(e,t,a){},b5ff:function(e,t,a){"use strict";var n=a("8240"),o=a.n(n);o.a},dc84:function(e,t,a){},dffe:function(e,t,a){"use strict";var n=a("69a2"),o=a.n(n);o.a},eb4b:function(e,t,a){"use strict";var n=a("add0"),o=a.n(n);o.a}});
//# sourceMappingURL=app.8fe00c66.js.map